"use strict";(self.webpackChunkRAPlanner=self.webpackChunkRAPlanner||[]).push([[129],{129:(ft,g,s)=>{s.r(g),s.d(g,{RaModule:()=>ht});var m=s(9808),f=s(6629),M=s(6461),t=s(7587),y=s(2025),Z=s(2434),S=s(4729),p=s(1745),v=s(9073),x=s(3191),R=s(7579),B=s(9841),N=s(7272),I=s(8306),A=s(5698),Q=s(9300),F=s(4986),L=s(4482),E=s(5403),b=s(4004),Y=s(8675),U=s(2722),j=s(925);const T=new Set;let h,_=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):W}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function k(n){if(!T.has(n))try{h||(h=document.createElement("style"),h.setAttribute("type","text/css"),document.head.appendChild(h)),h.sheet&&(h.sheet.insertRule(`@media ${n} {body{ }}`,0),T.add(n))}catch(o){console.error(o)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(j.t4))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function W(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let z=(()=>{class n{constructor(e,a){this._mediaMatcher=e,this._zone=a,this._queries=new Map,this._destroySubject=new R.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return C((0,x.Eq)(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){const r=C((0,x.Eq)(e)).map(c=>this._registerQuery(c).observable);let i=(0,B.a)(r);return i=(0,N.z)(i.pipe((0,A.q)(1)),i.pipe(function D(n){return(0,Q.h)((o,e)=>n<=e)}(1),function J(n,o=F.z){return(0,L.e)((e,a)=>{let r=null,i=null,c=null;const l=()=>{if(r){r.unsubscribe(),r=null;const d=i;i=null,a.next(d)}};function u(){const d=c+n,w=o.now();if(w<d)return r=this.schedule(void 0,d-w),void a.add(r);l()}e.subscribe((0,E.x)(a,d=>{i=d,c=o.now(),r||(r=o.schedule(u,n),a.add(r))},()=>{l(),a.complete()},void 0,()=>{i=r=null}))})}(0))),i.pipe((0,b.U)(c=>{const l={matches:!1,breakpoints:{}};return c.forEach(({matches:u,query:d})=>{l.matches=l.matches||u,l.breakpoints[d]=u}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const a=this._mediaMatcher.matchMedia(e),i={observable:new I.y(c=>{const l=u=>this._zone.run(()=>c.next(u));return a.addListener(l),()=>{a.removeListener(l)}}).pipe((0,Y.O)(a),(0,b.U)(({matches:c})=>({query:e,matches:c})),(0,U.R)(this._destroySubject)),mql:a};return this._queries.set(e,i),i}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(_),t.LFG(t.R0b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function C(n){return n.map(o=>o.split(",")).reduce((o,e)=>o.concat(e)).map(o=>o.trim())}var H=s(3640),O=s(9783);function P(n,o){1&n&&(t.TgZ(0,"div"),t._UZ(1,"i",9),t.qZA())}function X(n,o){1&n&&t._UZ(0,"i",10)}function G(n,o){1&n&&t._UZ(0,"i",11)}function K(n,o){1&n&&t._UZ(0,"i",12)}function V(n,o){if(1&n&&t._uU(0),2&n){const e=t.oxw();t.hij(" ",e.getResultString(e.result)," ")}}let q=(()=>{class n{constructor(e){this.boardService=e,this.outcomeEnum=p.j,this.highlightIcon=!1}ngOnInit(){}getResultString(e){const a=(0,p.M)(e.getOutcome()),r=this.boardService.getTeam(e.opponentId);return a+" contre "+r.playerOne.getShortFullName()+" - "+r.playerTwo.getShortFullName()+" "+e.sets.map(i=>i.toString()).reduce((i,c,l,u)=>i+", "+c)}addClass(e){this.highlightIcon=!0}removeClass(e){this.highlightIcon=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-outcome-display"]],inputs:{result:"result"},decls:9,vars:5,consts:[[3,"ngSwitch"],[1,"m-1","fa-stack",3,"click"],[4,"ngIf"],["class","fas fa-check win-color fa-stack-1x",4,"ngSwitchCase"],["class","fas fa-xmark loss-color fa-stack-1x",4,"ngSwitchCase"],["class","fas fa-minus bye-color fa-stack-1x",4,"ngSwitchCase"],[3,"onShow","onHide"],["op",""],["pTemplate",""],[1,"fa-stack-2x","fa-regular","fa-circle"],[1,"fas","fa-check","win-color","fa-stack-1x"],[1,"fas","fa-xmark","loss-color","fa-stack-1x"],[1,"fas","fa-minus","bye-color","fa-stack-1x"]],template:function(e,a){if(1&e){const r=t.EpF();t.ynx(0,0),t.TgZ(1,"span",1),t.NdJ("click",function(c){return t.CHM(r),t.MAs(7).toggle(c)}),t.YNc(2,P,2,0,"div",2),t.YNc(3,X,1,0,"i",3),t.YNc(4,G,1,0,"i",4),t.YNc(5,K,1,0,"i",5),t.qZA(),t.TgZ(6,"p-overlayPanel",6,7),t.NdJ("onShow",function(c){return a.addClass(c)})("onHide",function(c){return a.removeClass(c)}),t.YNc(8,V,1,1,"ng-template",8),t.qZA(),t.BQk()}2&e&&(t.Q6J("ngSwitch",a.result.getOutcome()),t.xp6(2),t.Q6J("ngIf",a.highlightIcon),t.xp6(1),t.Q6J("ngSwitchCase",a.outcomeEnum.WIN),t.xp6(1),t.Q6J("ngSwitchCase",a.outcomeEnum.LOSS),t.xp6(1),t.Q6J("ngSwitchCase",a.outcomeEnum.BYE))},directives:[m.RF,m.O5,m.n9,H.T,O.jx],styles:[".win-color{color:#32cd32}.loss-color{color:red}.bye-color{color:gray}.highlight-icon{border:1px solid black;border-radius:50%}.p-overlaypanel{margin-top:0!important}.p-overlaypanel:before{content:none!important}.p-overlaypanel:after{content:none!important}\n"],encapsulation:2}),n})();function tt(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"app-outcome-display",1)(2,"app-outcome-display",1)(3,"app-outcome-display",1)(4,"app-outcome-display",1),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("result",e),t.xp6(1),t.Q6J("result",e),t.xp6(1),t.Q6J("result",e),t.xp6(1),t.Q6J("result",e)}}let et=(()=>{class n{constructor(){this.results=[]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-outcomes-display"]],inputs:{results:"results"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"result"]],template:function(e,a){1&e&&t.YNc(0,tt,5,4,"ng-container",0),2&e&&t.Q6J("ngForOf",a.results)},directives:[m.sg,q],styles:[""]}),n})();var nt=s(4444);function ot(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",4)(2,"div",5)(3,"p"),t._uU(4),t.qZA()(),t.TgZ(5,"div",6)(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA()(),t.TgZ(10,"div",7),t._UZ(11,"app-outcomes-display",8),t.qZA()(),t.BQk()),2&n){const e=o.$implicit,a=o.index;t.xp6(4),t.Oqu(a+1),t.xp6(3),t.AsE("",e.playerOne.firstName," ",e.playerOne.lastName,""),t.xp6(2),t.AsE("",e.playerTwo.firstName," ",e.playerTwo.lastName,""),t.xp6(2),t.Q6J("results",e.results)}}function at(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",2),t.YNc(2,ot,12,6,"ng-container",3),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.board.teams)}}function st(n,o){1&n&&(t.TgZ(0,"tr"),t._UZ(1,"th"),t.TgZ(2,"th"),t._uU(3,"\xc9quipe"),t.qZA(),t.TgZ(4,"th"),t._uU(5,"R\xe9sultats"),t.qZA()())}function it(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA()(),t.TgZ(8,"td"),t._UZ(9,"app-outcomes-display",8),t.qZA()()),2&n){const e=o.$implicit,a=o.rowIndex;t.xp6(2),t.hij(" ",a+1," "),t.xp6(3),t.AsE("",e.playerOne.firstName," ",e.playerOne.lastName,""),t.xp6(2),t.AsE("",e.playerTwo.firstName," ",e.playerTwo.lastName,""),t.xp6(2),t.Q6J("results",e.results)}}function rt(n,o){if(1&n&&(t.TgZ(0,"p-table",9),t.YNc(1,st,6,0,"ng-template",10),t.YNc(2,it,10,6,"ng-template",11),t.qZA()),2&n){const e=t.oxw();t.Q6J("value",e.board.teams)}}let lt=(()=>{class n{constructor(e){this.responsive=e,this.subscriptions=[],this.isSmallDevice=!0,this._board=v.$.empty()}set board(e){const a=v.$.deepCopy(e);this.sortTeamsByRank(a),this._board=a}get board(){return this._board}ngOnInit(){this.subscriptions.push(this.responsive.observe("(max-width: 599.98px)").subscribe(e=>{this.isSmallDevice=e.matches}))}sortTeamsByRank(e){e.teams.sort((a,r)=>{const i=a.getOutcomes(),c=r.getOutcomes();if(i.length>c.length)return-1;if(i.length<c.length)return 1;for(let l=0;l<i.length;l++){if(i[l]!==p.j.WIN&&c[l]===p.j.WIN)return 1;if(i[l]===p.j.WIN&&c[l]!==p.j.WIN)return-1}for(let l=0;l<i.length;l++){if(i[l]===p.j.BYE&&c[l]!==p.j.BYE)return-1;if(i[l]!==p.j.BYE&&c[l]===p.j.BYE)return 1}return a.id.localeCompare(r.id)})}ngOnDestroy(){this.subscriptions.map(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-board-table"]],inputs:{board:"board"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["biggerDevice",""],[1,"m-3"],[4,"ngFor","ngForOf"],[1,"grid"],[1,"col-2"],[1,"col-7"],[1,"col-3","my-2"],[3,"results"],["breakpoint","599px",3,"value"],["pTemplate","header"],["pTemplate","body"]],template:function(e,a){if(1&e&&(t.YNc(0,at,3,1,"ng-container",0),t.YNc(1,rt,3,1,"ng-template",null,1,t.W1O)),2&e){const r=t.MAs(2);t.Q6J("ngIf",a.isSmallDevice)("ngIfElse",r)}},directives:[m.O5,m.sg,et,nt.iA,O.jx],styles:[""]}),n})();function ct(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"app-board-turn-message",1),t.TgZ(2,"div",2),t._UZ(3,"app-board-table",1),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("board",e),t.xp6(2),t.Q6J("board",e)}}let pt=(()=>{class n{constructor(){this.boards=[]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ra-results"]],inputs:{boards:"boards"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"board"],[1,"flex","flex-column"]],template:function(e,a){1&e&&t.YNc(0,ct,4,2,"ng-container",0),2&e&&t.Q6J("ngForOf",a.boards)},directives:[m.sg,S.F,lt],styles:[""]}),n})();const mt=[{path:"",component:(()=>{class n{constructor(e,a,r){this.boardService=e,this.raService=a,this.router=r,this.boards=[]}ngOnInit(){this.raService.isChampionshipLoaded().subscribe(e=>{e?this.boards=this.boardService.getBoards():this.raService.loadCachedChampionship().catch(()=>{this.router.navigate([M.g.HOME])})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.$),t.Y36(Z.J),t.Y36(f.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ra"]],decls:2,vars:1,consts:[[1,"mt-3"],[3,"boards"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-ra-results",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("boards",a.boards))},directives:[pt],styles:[""]}),n})()}];let dt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.Bz.forChild(mt)],f.Bz]}),n})();var ut=s(7231);let ht=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[m.ez,dt,ut.m]]}),n})()}}]);