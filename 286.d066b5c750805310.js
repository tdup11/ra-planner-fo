"use strict";(self.webpackChunkRAPlanner=self.webpackChunkRAPlanner||[]).push([[286],{4286:(mt,g,i)=>{i.r(g),i.d(g,{RaModule:()=>dt});var u=i(9808),f=i(6629),Z=i(6461),t=i(7587),v=i(2025),S=i(2434),x=i(8759),y=i(9783),p=i(1745),b=i(9073),T=i(3191),R=i(7579),B=i(9841),N=i(7272),A=i(8306),I=i(5698),L=i(9300),F=i(4986),Q=i(4482),j=i(5403),M=i(4004),D=i(8675),U=i(2722),J=i(925);const w=new Set;let h,W=(()=>{class e{constructor(n){this._platform=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&function z(e){if(!w.has(e))try{h||(h=document.createElement("style"),h.setAttribute("type","text/css"),document.head.appendChild(h)),h.sheet&&(h.sheet.insertRule(`@media ${e} {body{ }}`,0),w.add(e))}catch(o){console.error(o)}}(n),this._matchMedia(n)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(J.t4))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function $(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let P=(()=>{class e{constructor(n,a){this._mediaMatcher=n,this._zone=a,this._queries=new Map,this._destroySubject=new R.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return C((0,T.Eq)(n)).some(l=>this._registerQuery(l).mql.matches)}observe(n){const l=C((0,T.Eq)(n)).map(c=>this._registerQuery(c).observable);let s=(0,B.a)(l);return s=(0,N.z)(s.pipe((0,I.q)(1)),s.pipe(function E(e){return(0,L.h)((o,n)=>e<=n)}(1),function Y(e,o=F.z){return(0,Q.e)((n,a)=>{let l=null,s=null,c=null;const r=()=>{if(l){l.unsubscribe(),l=null;const d=s;s=null,a.next(d)}};function m(){const d=c+e,O=o.now();if(O<d)return l=this.schedule(void 0,d-O),void a.add(l);r()}n.subscribe((0,j.x)(a,d=>{s=d,c=o.now(),l||(l=o.schedule(m,e),a.add(l))},()=>{r(),a.complete()},void 0,()=>{s=l=null}))})}(0))),s.pipe((0,M.U)(c=>{const r={matches:!1,breakpoints:{}};return c.forEach(({matches:m,query:d})=>{r.matches=r.matches||m,r.breakpoints[d]=m}),r}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const a=this._mediaMatcher.matchMedia(n),s={observable:new A.y(c=>{const r=m=>this._zone.run(()=>c.next(m));return a.addListener(r),()=>{a.removeListener(r)}}).pipe((0,D.O)(a),(0,M.U)(({matches:c})=>({query:n,matches:c})),(0,U.R)(this._destroySubject)),mql:a};return this._queries.set(n,s),s}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(W),t.LFG(t.R0b))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function C(e){return e.map(o=>o.split(",")).reduce((o,n)=>o.concat(n)).map(o=>o.trim())}var H=i(4119);function G(e,o){1&e&&t._UZ(0,"i",6)}function K(e,o){1&e&&t._UZ(0,"i",7)}function V(e,o){1&e&&t._UZ(0,"i",8)}function k(e,o){if(1&e&&(t.ynx(0)(1,1),t.TgZ(2,"span",2),t.YNc(3,G,1,0,"i",3),t.YNc(4,K,1,0,"i",4),t.YNc(5,V,1,0,"i",5),t.qZA(),t.BQk()()),2&e){const n=o.$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngSwitch",n.getOutcome()),t.xp6(1),t.Q6J("pTooltip",a.getResultString(n))("escape",!1),t.xp6(1),t.Q6J("ngSwitchCase",a.outcomeEnum.WIN),t.xp6(1),t.Q6J("ngSwitchCase",a.outcomeEnum.LOSS),t.xp6(1),t.Q6J("ngSwitchCase",a.outcomeEnum.BYE)}}let q=(()=>{class e{constructor(n){this.boardService=n,this.results=[],this.outcomeEnum=p.j}ngOnInit(){}getResultString(n){const a=(0,p.M)(n.getOutcome()),l=this.boardService.getTeam(n.opponentId);return a+" contre <br>"+l.playerOne.getShortFullName()+" - "+l.playerTwo.getShortFullName()+"<br>"+n.sets.map(s=>s.toString()).reduce((s,c,r,m)=>s+", "+c)+"<br>"}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(v.$))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-outcomes-display"]],inputs:{results:"results"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"ngSwitch"],[3,"pTooltip","escape"],["class","fas fa-circle-check ml-1 win-color",4,"ngSwitchCase"],["class","fa-solid fa-circle-xmark ml-1 loss-color",4,"ngSwitchCase"],["class","fa-solid fa-circle-minus ml-1 bye-color",4,"ngSwitchCase"],[1,"fas","fa-circle-check","ml-1","win-color"],[1,"fa-solid","fa-circle-xmark","ml-1","loss-color"],[1,"fa-solid","fa-circle-minus","ml-1","bye-color"]],template:function(n,a){1&n&&t.YNc(0,k,6,6,"ng-container",0),2&n&&t.Q6J("ngForOf",a.results)},directives:[u.sg,u.RF,H.u,u.n9],styles:[".win-color[_ngcontent-%COMP%]{color:#32cd32}.loss-color[_ngcontent-%COMP%]{color:red}.bye-color[_ngcontent-%COMP%]{color:gray}"]}),e})();var _=i(4444);function tt(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",4)(2,"div",5)(3,"p"),t._uU(4),t.qZA()(),t.TgZ(5,"div",6)(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.qZA()(),t.TgZ(10,"div",7),t._UZ(11,"app-outcomes-display",8),t.qZA()(),t.BQk()),2&e){const n=o.$implicit,a=o.index;t.xp6(4),t.Oqu(a+1),t.xp6(3),t.AsE("",n.playerOne.firstName," ",n.playerOne.lastName,""),t.xp6(2),t.AsE("",n.playerTwo.firstName," ",n.playerTwo.lastName,""),t.xp6(2),t.Q6J("results",n.results)}}function et(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",2),t.YNc(2,tt,12,6,"ng-container",3),t.qZA(),t.BQk()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.board.teams)}}function nt(e,o){1&e&&(t.TgZ(0,"tr"),t._UZ(1,"th"),t.TgZ(2,"th"),t._uU(3,"\xc9quipe"),t.qZA(),t.TgZ(4,"th"),t._uU(5,"R\xe9sultats"),t.qZA()())}function ot(e,o){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA()(),t.TgZ(8,"td"),t._UZ(9,"app-outcomes-display",8),t.qZA()()),2&e){const n=o.$implicit,a=o.rowIndex;t.xp6(2),t.hij(" ",a+1," "),t.xp6(3),t.AsE("",n.playerOne.firstName," ",n.playerOne.lastName,""),t.xp6(2),t.AsE("",n.playerTwo.firstName," ",n.playerTwo.lastName,""),t.xp6(2),t.Q6J("results",n.results)}}function at(e,o){if(1&e&&(t.TgZ(0,"p-table",9),t.YNc(1,nt,6,0,"ng-template",10),t.YNc(2,ot,10,6,"ng-template",11),t.qZA()),2&e){const n=t.oxw();t.Q6J("value",n.board.teams)}}let it=(()=>{class e{constructor(n){this.responsive=n,this.subscriptions=[],this.isSmallDevice=!0,this._board=b.$.empty()}set board(n){const a=b.$.deepCopy(n);this.sortTeamsByRank(a),this._board=a}get board(){return this._board}ngOnInit(){this.subscriptions.push(this.responsive.observe("(max-width: 599.98px)").subscribe(n=>{this.isSmallDevice=n.matches}))}sortTeamsByRank(n){n.teams.sort((a,l)=>{const s=a.getOutcomes(),c=l.getOutcomes();if(s.length>c.length)return-1;if(s.length<c.length)return 1;for(let r=0;r<s.length;r++){if(s[r]!==p.j.WIN&&c[r]===p.j.WIN)return 1;if(s[r]===p.j.WIN&&c[r]!==p.j.WIN)return-1}for(let r=0;r<s.length;r++){if(s[r]===p.j.BYE&&c[r]!==p.j.BYE)return-1;if(s[r]!==p.j.BYE&&c[r]===p.j.BYE)return 1}return a.id.localeCompare(l.id)})}ngOnDestroy(){this.subscriptions.map(n=>n.unsubscribe())}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(P))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-board-table"]],inputs:{board:"board"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["biggerDevice",""],[1,"m-3"],[4,"ngFor","ngForOf"],[1,"grid"],[1,"col-2"],[1,"col-7"],[1,"col-3","my-2"],[3,"results"],["breakpoint","599px",3,"value"],["pTemplate","header"],["pTemplate","body"]],template:function(n,a){if(1&n&&(t.YNc(0,et,3,1,"ng-container",0),t.YNc(1,at,3,1,"ng-template",null,1,t.W1O)),2&n){const l=t.MAs(2);t.Q6J("ngIf",a.isSmallDevice)("ngIfElse",l)}},directives:[u.O5,u.sg,q,_.iA,y.jx],styles:[""]}),e})();function st(e,o){if(1&e&&(t.TgZ(0,"div",2)(1,"h2",3),t._uU(2),t.qZA(),t._UZ(3,"app-board-table",4),t.qZA()),2&e){const n=o.$implicit;t.xp6(2),t.hij("Tableau ",n.id,""),t.xp6(1),t.Q6J("board",n)}}let rt=(()=>{class e{constructor(){this.boards=[],x.l.prototype.onTouchMove=()=>{}}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-ra-results"]],inputs:{boards:"boards"},decls:2,vars:4,consts:[[3,"value","circular","showIndicators","showNavigators"],["pTemplate","item"],[1,"flex","flex-column"],[1,"align-self-center","mt-0"],[3,"board"]],template:function(n,a){1&n&&(t.TgZ(0,"p-carousel",0),t.YNc(1,st,4,2,"ng-template",1),t.qZA()),2&n&&t.Q6J("value",a.boards)("circular",!0)("showIndicators",!0)("showNavigators",!1)},directives:[x.l,y.jx,it],styles:[""]}),e})();const lt=[{path:"",component:(()=>{class e{constructor(n,a,l){this.boardService=n,this.raService=a,this.router=l,this.boards=[]}ngOnInit(){this.raService.isChampionshipLoaded().subscribe(n=>{n?this.boards=this.boardService.getBoards():this.raService.loadCachedChampionship().catch(()=>{this.router.navigate([Z.g.HOME])})})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(v.$),t.Y36(S.J),t.Y36(f.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-ra"]],decls:2,vars:1,consts:[[1,"mt-3"],[3,"boards"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"app-ra-results",1),t.qZA()),2&n&&(t.xp6(1),t.Q6J("boards",a.boards))},directives:[rt],styles:[""]}),e})()}];let ct=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[f.Bz.forChild(lt)],f.Bz]}),e})();var pt=i(6997);let dt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.ez,ct,pt.m]]}),e})()}}]);